{"ast":null,"code":"import { FigureNames } from \"../consts\";\nexport class Figure {\n  constructor(color, cell) {\n    this.logo = void 0;\n    this.color = void 0;\n    this.cell = void 0;\n    this.figureName = void 0;\n    this.id = void 0;\n    this.color = color;\n    this.cell = cell;\n    this.cell.currentFigure = this;\n    this.logo = null;\n    this.id = Math.random();\n  }\n\n  canMove(target) {\n    var _target$currentFigure, _target$currentFigure2;\n\n    if (target.x === this.cell.x && target.y === this.cell.y) {\n      return false;\n    }\n\n    if (((_target$currentFigure = target.currentFigure) === null || _target$currentFigure === void 0 ? void 0 : _target$currentFigure.color) === this.color) {\n      return false;\n    }\n\n    if (((_target$currentFigure2 = target.currentFigure) === null || _target$currentFigure2 === void 0 ? void 0 : _target$currentFigure2.figureName) === FigureNames.KING) {\n      return false;\n    }\n\n    return true;\n  }\n\n  move(target) {\n    this.cell.currentFigure = null;\n    this.cell = target;\n    this.cell.currentFigure = this;\n  }\n\n  blockMove(dir, target) {\n    let block = false;\n\n    switch (dir) {\n      case 'hor':\n        if (!target.currentFigure) {}\n\n    }\n\n    const canMoveCells = [];\n  }\n\n  canMoveLines(target) {\n    let block = false;\n\n    if ((this.cell.x === target.x || this.cell.y === target.y) && !target.currentFigure) {\n      return true;\n    }\n\n    return false;\n\n    function blockMove(target) {\n      if (!target.currentFigure) {}\n    }\n  }\n\n  canMoveDiagonals(target) {\n    const diffMinus = this.cell.x - this.cell.y;\n    const diffSum = this.cell.x + this.cell.y;\n\n    if (target.x - target.y === diffMinus || target.x + target.y === diffSum) {\n      return true;\n    }\n\n    return false;\n  }\n\n}","map":{"version":3,"names":["FigureNames","Figure","constructor","color","cell","logo","figureName","id","currentFigure","Math","random","canMove","target","x","y","KING","move","blockMove","dir","block","canMoveCells","canMoveLines","canMoveDiagonals","diffMinus","diffSum"],"sources":["/Users/alextsukanov/my-projects/chess/src/models/figure.ts"],"sourcesContent":["import { Colors, FigureNames } from \"../consts\";\nimport { Cell } from \"./cell\";\nimport logo from '../../assets/black-bishop.png'\n\nexport class Figure {\n    logo: typeof logo | null;\n    color: Colors\n    cell: Cell;\n    figureName?: FigureNames;\n    id: number;\n\n    constructor(color: Colors, cell: Cell) {\n        this.color = color;\n        this.cell = cell;\n        this.cell.currentFigure = this;\n        this.logo = null;\n        this.id = Math.random();\n    }\n\n    public canMove(target: Cell): boolean {\n        if (target.x === this.cell.x && target.y === this.cell.y) {\n            return false;\n        }\n        if (target.currentFigure?.color === this.color) {\n            return false;\n        }\n        if (target.currentFigure?.figureName === FigureNames.KING) {\n            return false;\n        }\n        return true;\n    }\n\n    public move(target: Cell) {\n        this.cell.currentFigure = null; \n        this.cell = target;\n        this.cell.currentFigure = this;\n    }\n\n    protected blockMove(dir: 'hor' | 'vert' | 'diag', target: Cell) {\n        let block = false;\n        switch (dir) {\n            case 'hor':\n                if (!target.currentFigure) {}\n\n        }\n        const canMoveCells = [];\n    }\n\n    protected canMoveLines(target: Cell): boolean {\n        let block = false;\n        if ((this.cell.x === target.x || this.cell.y === target.y) && !target.currentFigure) {\n            return true;\n        }\n        return false;\n        function blockMove(target: Cell) {\n            if (!target.currentFigure) {\n\n            }\n        }\n    }\n\n    protected canMoveDiagonals(target: Cell): boolean {\n        const diffMinus = this.cell.x - this.cell.y;\n        const diffSum = this.cell.x + this.cell.y;\n        if (target.x - target.y === diffMinus || target.x + target.y === diffSum) {\n            return true;\n        }\n        return false;\n    }\n}"],"mappings":"AAAA,SAAiBA,WAAjB,QAAoC,WAApC;AAIA,OAAO,MAAMC,MAAN,CAAa;EAOhBC,WAAW,CAACC,KAAD,EAAgBC,IAAhB,EAA4B;IAAA,KANvCC,IAMuC;IAAA,KALvCF,KAKuC;IAAA,KAJvCC,IAIuC;IAAA,KAHvCE,UAGuC;IAAA,KAFvCC,EAEuC;IACnC,KAAKJ,KAAL,GAAaA,KAAb;IACA,KAAKC,IAAL,GAAYA,IAAZ;IACA,KAAKA,IAAL,CAAUI,aAAV,GAA0B,IAA1B;IACA,KAAKH,IAAL,GAAY,IAAZ;IACA,KAAKE,EAAL,GAAUE,IAAI,CAACC,MAAL,EAAV;EACH;;EAEMC,OAAO,CAACC,MAAD,EAAwB;IAAA;;IAClC,IAAIA,MAAM,CAACC,CAAP,KAAa,KAAKT,IAAL,CAAUS,CAAvB,IAA4BD,MAAM,CAACE,CAAP,KAAa,KAAKV,IAAL,CAAUU,CAAvD,EAA0D;MACtD,OAAO,KAAP;IACH;;IACD,IAAI,0BAAAF,MAAM,CAACJ,aAAP,gFAAsBL,KAAtB,MAAgC,KAAKA,KAAzC,EAAgD;MAC5C,OAAO,KAAP;IACH;;IACD,IAAI,2BAAAS,MAAM,CAACJ,aAAP,kFAAsBF,UAAtB,MAAqCN,WAAW,CAACe,IAArD,EAA2D;MACvD,OAAO,KAAP;IACH;;IACD,OAAO,IAAP;EACH;;EAEMC,IAAI,CAACJ,MAAD,EAAe;IACtB,KAAKR,IAAL,CAAUI,aAAV,GAA0B,IAA1B;IACA,KAAKJ,IAAL,GAAYQ,MAAZ;IACA,KAAKR,IAAL,CAAUI,aAAV,GAA0B,IAA1B;EACH;;EAESS,SAAS,CAACC,GAAD,EAA+BN,MAA/B,EAA6C;IAC5D,IAAIO,KAAK,GAAG,KAAZ;;IACA,QAAQD,GAAR;MACI,KAAK,KAAL;QACI,IAAI,CAACN,MAAM,CAACJ,aAAZ,EAA2B,CAAE;;IAFrC;;IAKA,MAAMY,YAAY,GAAG,EAArB;EACH;;EAESC,YAAY,CAACT,MAAD,EAAwB;IAC1C,IAAIO,KAAK,GAAG,KAAZ;;IACA,IAAI,CAAC,KAAKf,IAAL,CAAUS,CAAV,KAAgBD,MAAM,CAACC,CAAvB,IAA4B,KAAKT,IAAL,CAAUU,CAAV,KAAgBF,MAAM,CAACE,CAApD,KAA0D,CAACF,MAAM,CAACJ,aAAtE,EAAqF;MACjF,OAAO,IAAP;IACH;;IACD,OAAO,KAAP;;IACA,SAASS,SAAT,CAAmBL,MAAnB,EAAiC;MAC7B,IAAI,CAACA,MAAM,CAACJ,aAAZ,EAA2B,CAE1B;IACJ;EACJ;;EAESc,gBAAgB,CAACV,MAAD,EAAwB;IAC9C,MAAMW,SAAS,GAAG,KAAKnB,IAAL,CAAUS,CAAV,GAAc,KAAKT,IAAL,CAAUU,CAA1C;IACA,MAAMU,OAAO,GAAG,KAAKpB,IAAL,CAAUS,CAAV,GAAc,KAAKT,IAAL,CAAUU,CAAxC;;IACA,IAAIF,MAAM,CAACC,CAAP,GAAWD,MAAM,CAACE,CAAlB,KAAwBS,SAAxB,IAAqCX,MAAM,CAACC,CAAP,GAAWD,MAAM,CAACE,CAAlB,KAAwBU,OAAjE,EAA0E;MACtE,OAAO,IAAP;IACH;;IACD,OAAO,KAAP;EACH;;AAhEe"},"metadata":{},"sourceType":"module"}