{"ast":null,"code":"var _jsxFileName = \"/Users/alextsukanov/my-projects/chess/src/components/timer/timer.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Colors } from '../../models/colors';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Timer = _ref => {\n  _s();\n\n  let {\n    currentColor,\n    restart\n  } = _ref;\n  const [blackTime, setBlackTime] = useState(3000);\n  const [whiteTime, setWhiteTime] = useState(3000);\n  const timer = useRef(null);\n  useEffect(() => {\n    startTimer();\n  }, [currentColor]);\n\n  const startTimer = () => {\n    if (timer.current) {\n      clearInterval(timer.current);\n    }\n\n    const callback = () => currentColor === Colors.BLACK ? decrementBlackTimer() : decrementWhiteTimer();\n\n    timer.current = setInterval(callback, 1000);\n  };\n\n  function decrementBlackTimer() {\n    setBlackTime(prev => prev - 1);\n  }\n\n  ;\n\n  function decrementWhiteTimer() {\n    setWhiteTime(prev => prev - 1);\n  }\n\n  ;\n\n  const handleRestart = () => {\n    setBlackTime(300);\n    setWhiteTime(300);\n    restart();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleRestart,\n      children: \"Restart game\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"Black: \", blackTime]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"White: \", whiteTime]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Timer, \"TGFr6kQ5DhJMijxiEDLLfJhX++w=\");\n\n_c = Timer;\nexport default Timer;\n\nvar _c;\n\n$RefreshReg$(_c, \"Timer\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Colors","Timer","currentColor","restart","blackTime","setBlackTime","whiteTime","setWhiteTime","timer","startTimer","current","clearInterval","callback","BLACK","decrementBlackTimer","decrementWhiteTimer","setInterval","prev","handleRestart"],"sources":["/Users/alextsukanov/my-projects/chess/src/components/timer/timer.tsx"],"sourcesContent":["import React, { FC, useEffect, useRef, useState } from 'react';\nimport { Player } from '../../models/player';\nimport { Colors } from '../../models/colors';\n\ninterface Props {\n    currentColor: Colors | null;\n    restart: () => void;\n}\n\nconst Timer: FC<Props> = ({currentColor, restart}) => {\n    const [blackTime, setBlackTime] = useState(3000);\n    const [whiteTime, setWhiteTime] = useState(3000);\n    const timer = useRef<null | ReturnType<typeof setInterval>>(null);\n\n    useEffect(() => {\n        startTimer();\n    }, [currentColor])\n\n    const startTimer = () => {\n        if (timer.current) {\n            clearInterval(timer.current);\n        }\n\n        const callback = () => currentColor === Colors.BLACK ? decrementBlackTimer() : decrementWhiteTimer();\n        timer.current = setInterval(callback, 1000);\n    };\n\n    function decrementBlackTimer() {\n        setBlackTime(prev => prev - 1);\n    };\n\n    function decrementWhiteTimer() {\n        setWhiteTime(prev => prev - 1);\n    };\n\n    const handleRestart = () => {\n        setBlackTime(300);\n        setWhiteTime(300);\n        restart();\n    }\n\n    return (\n        <div>\n            <button onClick={handleRestart}>\n                Restart game\n            </button>\n\n            <h2>Black: {blackTime}</h2>\n            <h2>White: {whiteTime}</h2>\n        </div>\n    )\n}\n\nexport default Timer;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAoBC,SAApB,EAA+BC,MAA/B,EAAuCC,QAAvC,QAAuD,OAAvD;AAEA,SAASC,MAAT,QAAuB,qBAAvB;;;AAOA,MAAMC,KAAgB,GAAG,QAA6B;EAAA;;EAAA,IAA5B;IAACC,YAAD;IAAeC;EAAf,CAA4B;EAClD,MAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BN,QAAQ,CAAC,IAAD,CAA1C;EACA,MAAM,CAACO,SAAD,EAAYC,YAAZ,IAA4BR,QAAQ,CAAC,IAAD,CAA1C;EACA,MAAMS,KAAK,GAAGV,MAAM,CAAwC,IAAxC,CAApB;EAEAD,SAAS,CAAC,MAAM;IACZY,UAAU;EACb,CAFQ,EAEN,CAACP,YAAD,CAFM,CAAT;;EAIA,MAAMO,UAAU,GAAG,MAAM;IACrB,IAAID,KAAK,CAACE,OAAV,EAAmB;MACfC,aAAa,CAACH,KAAK,CAACE,OAAP,CAAb;IACH;;IAED,MAAME,QAAQ,GAAG,MAAMV,YAAY,KAAKF,MAAM,CAACa,KAAxB,GAAgCC,mBAAmB,EAAnD,GAAwDC,mBAAmB,EAAlG;;IACAP,KAAK,CAACE,OAAN,GAAgBM,WAAW,CAACJ,QAAD,EAAW,IAAX,CAA3B;EACH,CAPD;;EASA,SAASE,mBAAT,GAA+B;IAC3BT,YAAY,CAACY,IAAI,IAAIA,IAAI,GAAG,CAAhB,CAAZ;EACH;;EAAA;;EAED,SAASF,mBAAT,GAA+B;IAC3BR,YAAY,CAACU,IAAI,IAAIA,IAAI,GAAG,CAAhB,CAAZ;EACH;;EAAA;;EAED,MAAMC,aAAa,GAAG,MAAM;IACxBb,YAAY,CAAC,GAAD,CAAZ;IACAE,YAAY,CAAC,GAAD,CAAZ;IACAJ,OAAO;EACV,CAJD;;EAMA,oBACI;IAAA,wBACI;MAAQ,OAAO,EAAEe,aAAjB;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,eAKI;MAAA,sBAAYd,SAAZ;IAAA;MAAA;MAAA;MAAA;IAAA,QALJ,eAMI;MAAA,sBAAYE,SAAZ;IAAA;MAAA;MAAA;MAAA;IAAA,QANJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAUH,CA1CD;;GAAML,K;;KAAAA,K;AA4CN,eAAeA,KAAf"},"metadata":{},"sourceType":"module"}