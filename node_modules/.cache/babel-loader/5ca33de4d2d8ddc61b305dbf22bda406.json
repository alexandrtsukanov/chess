{"ast":null,"code":"export let FigureNames;\n\n(function (FigureNames) {\n  FigureNames[\"FIGURE\"] = \"Figure\";\n  FigureNames[\"PAWN\"] = \"Pawn\";\n  FigureNames[\"ROOK\"] = \"Rook\";\n  FigureNames[\"KNIGHT\"] = \"Knight\";\n  FigureNames[\"BISHOP\"] = \"Bishop\";\n  FigureNames[\"QUEEN\"] = \"Queen\";\n  FigureNames[\"KING\"] = \"King\";\n})(FigureNames || (FigureNames = {}));\n\nexport class Figure {\n  constructor(color, cell) {\n    this.color = void 0;\n    this.logo = void 0;\n    this.cell = void 0;\n    this.name = void 0;\n    this.id = void 0;\n    this.color = color;\n    this.cell = cell;\n    this.cell.figure = this;\n    this.logo = null;\n    this.name = FigureNames.FIGURE;\n    this.id = Math.random();\n  }\n\n  canMove(target) {\n    var _target$figure;\n\n    if (((_target$figure = target.figure) === null || _target$figure === void 0 ? void 0 : _target$figure.color) === this.color) {\n      return false;\n    }\n\n    if (this.cell.board.shah === this.color) {}\n\n    return true;\n  }\n\n  moveFigure(target) {\n    var _target$figure2;\n\n    // pass\n    if ((_target$figure2 = target.figure) !== null && _target$figure2 !== void 0 && _target$figure2.canAttackKing()) {\n      console.log('SHAH TO');\n    }\n  }\n\n  canAttackKing() {\n    const {\n      board\n    } = this.cell;\n\n    for (let i = 0; i < board.cells.length; i += 1) {\n      const row = board.cells[i];\n\n      for (let j = 0; j < row.length; j += 1) {\n        var _target$figure3;\n\n        const target = row[j];\n\n        if (this.canMove(target) && ((_target$figure3 = target.figure) === null || _target$figure3 === void 0 ? void 0 : _target$figure3.name) === FigureNames.KING) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n\n}","map":{"version":3,"names":["FigureNames","Figure","constructor","color","cell","logo","name","id","figure","FIGURE","Math","random","canMove","target","board","shah","moveFigure","canAttackKing","console","log","i","cells","length","row","j","KING"],"sources":["/Users/alextsukanov/my-projects/chess/src/models/figure.ts"],"sourcesContent":["import { Colors } from \"./colors\";\nimport logo from '../assets/black-king.png';\nimport { Cell } from \"./cell\";\n\nexport enum FigureNames {\n    FIGURE = 'Figure',\n    PAWN = 'Pawn',\n    ROOK = 'Rook',\n    KNIGHT = 'Knight',\n    BISHOP = 'Bishop',\n    QUEEN = 'Queen',\n    KING = 'King',\n}\n\nexport class Figure {\n    color: Colors;\n    logo: typeof logo | null;\n    cell: Cell;\n    name: FigureNames;\n    id: number;\n\n    constructor(color: Colors, cell: Cell) {\n        this.color = color;\n        this.cell = cell;\n        this.cell.figure = this;\n\n        this.logo = null;\n        this.name = FigureNames.FIGURE;\n        this.id = Math.random();\n    }\n\n    canMove(target: Cell): boolean {\n        if (target.figure?.color === this.color) {\n            return false;\n        }\n\n        if (this.cell.board.shah === this.color) {\n\n        }\n        \n        return true;\n    }\n\n    moveFigure(target: Cell) {\n        // pass\n\n        if (target.figure?.canAttackKing()) {\n            console.log('SHAH TO')\n        }\n    }\n\n    canAttackKing(): boolean {\n        const {board} = this.cell;\n\n        for (let i = 0; i < board.cells.length; i += 1) {\n            const row = board.cells[i];\n\n            for (let j = 0; j < row.length; j += 1) {\n                const target = row[j];\n\n                if (this.canMove(target) && target.figure?.name === FigureNames.KING) {\n                    return true;\n                }\n            }\n        }\n        \n        return false;\n    }\n}"],"mappings":"AAIA,WAAYA,WAAZ;;WAAYA,W;EAAAA,W;EAAAA,W;EAAAA,W;EAAAA,W;EAAAA,W;EAAAA,W;EAAAA,W;GAAAA,W,KAAAA,W;;AAUZ,OAAO,MAAMC,MAAN,CAAa;EAOhBC,WAAW,CAACC,KAAD,EAAgBC,IAAhB,EAA4B;IAAA,KANvCD,KAMuC;IAAA,KALvCE,IAKuC;IAAA,KAJvCD,IAIuC;IAAA,KAHvCE,IAGuC;IAAA,KAFvCC,EAEuC;IACnC,KAAKJ,KAAL,GAAaA,KAAb;IACA,KAAKC,IAAL,GAAYA,IAAZ;IACA,KAAKA,IAAL,CAAUI,MAAV,GAAmB,IAAnB;IAEA,KAAKH,IAAL,GAAY,IAAZ;IACA,KAAKC,IAAL,GAAYN,WAAW,CAACS,MAAxB;IACA,KAAKF,EAAL,GAAUG,IAAI,CAACC,MAAL,EAAV;EACH;;EAEDC,OAAO,CAACC,MAAD,EAAwB;IAAA;;IAC3B,IAAI,mBAAAA,MAAM,CAACL,MAAP,kEAAeL,KAAf,MAAyB,KAAKA,KAAlC,EAAyC;MACrC,OAAO,KAAP;IACH;;IAED,IAAI,KAAKC,IAAL,CAAUU,KAAV,CAAgBC,IAAhB,KAAyB,KAAKZ,KAAlC,EAAyC,CAExC;;IAED,OAAO,IAAP;EACH;;EAEDa,UAAU,CAACH,MAAD,EAAe;IAAA;;IACrB;IAEA,uBAAIA,MAAM,CAACL,MAAX,4CAAI,gBAAeS,aAAf,EAAJ,EAAoC;MAChCC,OAAO,CAACC,GAAR,CAAY,SAAZ;IACH;EACJ;;EAEDF,aAAa,GAAY;IACrB,MAAM;MAACH;IAAD,IAAU,KAAKV,IAArB;;IAEA,KAAK,IAAIgB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,KAAK,CAACO,KAAN,CAAYC,MAAhC,EAAwCF,CAAC,IAAI,CAA7C,EAAgD;MAC5C,MAAMG,GAAG,GAAGT,KAAK,CAACO,KAAN,CAAYD,CAAZ,CAAZ;;MAEA,KAAK,IAAII,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,GAAG,CAACD,MAAxB,EAAgCE,CAAC,IAAI,CAArC,EAAwC;QAAA;;QACpC,MAAMX,MAAM,GAAGU,GAAG,CAACC,CAAD,CAAlB;;QAEA,IAAI,KAAKZ,OAAL,CAAaC,MAAb,KAAwB,oBAAAA,MAAM,CAACL,MAAP,oEAAeF,IAAf,MAAwBN,WAAW,CAACyB,IAAhE,EAAsE;UAClE,OAAO,IAAP;QACH;MACJ;IACJ;;IAED,OAAO,KAAP;EACH;;AArDe"},"metadata":{},"sourceType":"module"}